"use strict";exports.id=530,exports.ids=[530],exports.modules={4530:(e,t,n)=>{n.d(t,{getDefaultRoleAssumer:()=>t2,getDefaultRoleAssumerWithWebIdentity:()=>t8});var i=n(57716),r=n(95114),s=n(70135);let o=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),a={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class l extends s.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,l.prototype)}}class c extends l{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,c.prototype)}}class d extends l{constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,d.prototype)}}class u extends l{constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,u.prototype)}}class p extends l{constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,p.prototype)}}class h extends l{constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,h.prototype)}}class m extends l{constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,m.prototype)}}class f extends l{constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,f.prototype)}}class g extends l{constructor(e){super({name:"InvalidAuthorizationMessageException",$fault:"client",...e}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,g.prototype)}}let y=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:s.SENSITIVE_STRING}}),S=e=>({...e,...e.Credentials&&{Credentials:y(e.Credentials)}}),x=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:s.SENSITIVE_STRING}}),P=e=>({...e,...e.Credentials&&{Credentials:y(e.Credentials)}});var E=n(26917),v=n(84590);let w=async(e,t)=>{let n;return n=eq({...z(e,t),[el]:ed,[eM]:ea}),es(t,eo,"/",void 0,n)},I=async(e,t)=>{let n;return n=eq({...K(e,t),[el]:eh,[eM]:ea}),es(t,eo,"/",void 0,n)},b=async(e,t)=>{if(e.statusCode>=300)return C(e,t);let n=await (0,E.parseXmlBody)(e.body,t),i={};i=B(n.AssumeRoleResult,t);let r={$metadata:ei(e),...i};return r},A=async(e,t)=>{if(e.statusCode>=300)return C(e,t);let n=await (0,E.parseXmlBody)(e.body,t),i={};i=L(n.AssumeRoleWithWebIdentityResult,t);let r={$metadata:ei(e),...i};return r},C=async(e,t)=>{let n={...e,body:await (0,E.parseXmlErrorBody)(e.body,t)},i=eG(e,n.body);switch(i){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await R(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await O(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await W(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await j(n,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await D(n,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await $(n,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await k(n,t);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await T(n,t);default:let r=n.body;return er({output:e,parsedBody:r.Error,errorCode:i})}},R=async(e,t)=>{let n=e.body,i=_(n.Error,t),r=new c({$metadata:ei(e),...i});return(0,s.decorateServiceException)(r,n)},k=async(e,t)=>{let n=e.body,i=J(n.Error,t),r=new f({$metadata:ei(e),...i});return(0,s.decorateServiceException)(r,n)},D=async(e,t)=>{let n=e.body,i=Q(n.Error,t),r=new h({$metadata:ei(e),...i});return(0,s.decorateServiceException)(r,n)},T=async(e,t)=>{let n=e.body,i=Y(n.Error,t),r=new g({$metadata:ei(e),...i});return(0,s.decorateServiceException)(r,n)},$=async(e,t)=>{let n=e.body,i=Z(n.Error,t),r=new m({$metadata:ei(e),...i});return(0,s.decorateServiceException)(r,n)},O=async(e,t)=>{let n=e.body,i=ee(n.Error,t),r=new d({$metadata:ei(e),...i});return(0,s.decorateServiceException)(r,n)},W=async(e,t)=>{let n=e.body,i=et(n.Error,t),r=new u({$metadata:ei(e),...i});return(0,s.decorateServiceException)(r,n)},j=async(e,t)=>{let n=e.body,i=en(n.Error,t),r=new p({$metadata:ei(e),...i});return(0,s.decorateServiceException)(r,n)},z=(e,t)=>{let n={};if(null!=e[ek]&&(n[ek]=e[ek]),null!=e[eD]&&(n[eD]=e[eD]),null!=e[ew]){let i=H(e[ew],t);e[ew]?.length===0&&(n.PolicyArns=[]),Object.entries(i).forEach(([e,t])=>{let i=`PolicyArns.${e}`;n[i]=t})}if(null!=e[ev]&&(n[ev]=e[ev]),null!=e[eS]&&(n[eS]=e[eS]),null!=e[ez]){let i=q(e[ez],t);e[ez]?.length===0&&(n.Tags=[]),Object.entries(i).forEach(([e,t])=>{let i=`Tags.${e}`;n[i]=t})}if(null!=e[eH]){let i=U(e[eH],t);e[eH]?.length===0&&(n.TransitiveTagKeys=[]),Object.entries(i).forEach(([e,t])=>{let i=`TransitiveTagKeys.${e}`;n[i]=t})}if(null!=e[eP]&&(n[eP]=e[eP]),null!=e[eW]&&(n[eW]=e[eW]),null!=e[eK]&&(n[eK]=e[eK]),null!=e[eO]&&(n[eO]=e[eO]),null!=e[eb]){let i=F(e[eb],t);e[eb]?.length===0&&(n.ProvidedContexts=[]),Object.entries(i).forEach(([e,t])=>{let i=`ProvidedContexts.${e}`;n[i]=t})}return n},K=(e,t)=>{let n={};if(null!=e[ek]&&(n[ek]=e[ek]),null!=e[eD]&&(n[eD]=e[eD]),null!=e[eF]&&(n[eF]=e[eF]),null!=e[eA]&&(n[eA]=e[eA]),null!=e[ew]){let i=H(e[ew],t);e[ew]?.length===0&&(n.PolicyArns=[]),Object.entries(i).forEach(([e,t])=>{let i=`PolicyArns.${e}`;n[i]=t})}return null!=e[ev]&&(n[ev]=e[ev]),null!=e[eS]&&(n[eS]=e[eS]),n},H=(e,t)=>{let n={},i=1;for(let r of e){if(null===r)continue;let e=M(r,t);Object.entries(e).forEach(([e,t])=>{n[`member.${i}.${e}`]=t}),i++}return n},M=(e,t)=>{let n={};return null!=e[eV]&&(n[eV]=e[eV]),n},N=(e,t)=>{let n={};return null!=e[eI]&&(n[eI]=e[eI]),null!=e[ey]&&(n[ey]=e[ey]),n},F=(e,t)=>{let n={},i=1;for(let r of e){if(null===r)continue;let e=N(r,t);Object.entries(e).forEach(([e,t])=>{n[`member.${i}.${e}`]=t}),i++}return n},V=(e,t)=>{let n={};return null!=e[eE]&&(n[eE]=e[eE]),null!=e[eN]&&(n[eN]=e[eN]),n},U=(e,t)=>{let n={},i=1;for(let t of e)null!==t&&(n[`member.${i}`]=t,i++);return n},q=(e,t)=>{let n={},i=1;for(let r of e){if(null===r)continue;let e=V(r,t);Object.entries(e).forEach(([e,t])=>{n[`member.${i}.${e}`]=t}),i++}return n},G=(e,t)=>{let n={};return null!=e[eu]&&(n[eu]=(0,s.expectString)(e[eu])),null!=e[em]&&(n[em]=(0,s.expectString)(e[em])),n},B=(e,t)=>{let n={};return null!=e[eg]&&(n[eg]=X(e[eg],t)),null!=e[ep]&&(n[ep]=G(e[ep],t)),null!=e[eC]&&(n[eC]=(0,s.strictParseInt32)(e[eC])),null!=e[eO]&&(n[eO]=(0,s.expectString)(e[eO])),n},L=(e,t)=>{let n={};return null!=e[eg]&&(n[eg]=X(e[eg],t)),null!=e[e$]&&(n[e$]=(0,s.expectString)(e[e$])),null!=e[ep]&&(n[ep]=G(e[ep],t)),null!=e[eC]&&(n[eC]=(0,s.strictParseInt32)(e[eC])),null!=e[eR]&&(n[eR]=(0,s.expectString)(e[eR])),null!=e[ef]&&(n[ef]=(0,s.expectString)(e[ef])),null!=e[eO]&&(n[eO]=(0,s.expectString)(e[eO])),n},X=(e,t)=>{let n={};return null!=e[ec]&&(n[ec]=(0,s.expectString)(e[ec])),null!=e[eT]&&(n[eT]=(0,s.expectString)(e[eT])),null!=e[ej]&&(n[ej]=(0,s.expectString)(e[ej])),null!=e[ex]&&(n[ex]=(0,s.expectNonNull)((0,s.parseRfc3339DateTimeWithOffset)(e[ex]))),n},_=(e,t)=>{let n={};return null!=e[eU]&&(n[eU]=(0,s.expectString)(e[eU])),n},J=(e,t)=>{let n={};return null!=e[eU]&&(n[eU]=(0,s.expectString)(e[eU])),n},Q=(e,t)=>{let n={};return null!=e[eU]&&(n[eU]=(0,s.expectString)(e[eU])),n},Y=(e,t)=>{let n={};return null!=e[eU]&&(n[eU]=(0,s.expectString)(e[eU])),n},Z=(e,t)=>{let n={};return null!=e[eU]&&(n[eU]=(0,s.expectString)(e[eU])),n},ee=(e,t)=>{let n={};return null!=e[eU]&&(n[eU]=(0,s.expectString)(e[eU])),n},et=(e,t)=>{let n={};return null!=e[eU]&&(n[eU]=(0,s.expectString)(e[eU])),n},en=(e,t)=>{let n={};return null!=e[eU]&&(n[eU]=(0,s.expectString)(e[eU])),n},ei=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),er=(0,s.withBaseException)(l),es=async(e,t,n,i,r)=>{let{hostname:s,protocol:o="https",port:a,path:l}=await e.endpoint(),c={protocol:o,hostname:s,port:a,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+n:l+n,headers:t};return void 0!==i&&(c.hostname=i),void 0!==r&&(c.body=r),new v.HttpRequest(c)},eo={"content-type":"application/x-www-form-urlencoded"},ea="2011-06-15",el="Action",ec="AccessKeyId",ed="AssumeRole",eu="AssumedRoleId",ep="AssumedRoleUser",eh="AssumeRoleWithWebIdentity",em="Arn",ef="Audience",eg="Credentials",ey="ContextAssertion",eS="DurationSeconds",ex="Expiration",eP="ExternalId",eE="Key",ev="Policy",ew="PolicyArns",eI="ProviderArn",eb="ProvidedContexts",eA="ProviderId",eC="PackedPolicySize",eR="Provider",ek="RoleArn",eD="RoleSessionName",eT="SecretAccessKey",e$="SubjectFromWebIdentityToken",eO="SourceIdentity",eW="SerialNumber",ej="SessionToken",ez="Tags",eK="TokenCode",eH="TransitiveTagKeys",eM="Version",eN="Value",eF="WebIdentityToken",eV="arn",eU="message",eq=e=>Object.entries(e).map(([e,t])=>(0,s.extendedEncodeURIComponent)(e)+"="+(0,s.extendedEncodeURIComponent)(t)).join("&"),eG=(e,t)=>t.Error?.Code!==void 0?t.Error.Code:404==e.statusCode?"NotFound":void 0;class eB extends s.Command.classBuilder().ep({...a}).m(function(e,t,n,s){return[(0,r.p2)(n,this.serialize,this.deserialize),(0,i.a3)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,S).ser(w).de(b).build(){}class eL extends s.Command.classBuilder().ep({...a}).m(function(e,t,n,s){return[(0,r.p2)(n,this.serialize,this.deserialize),(0,i.a3)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(x,P).ser(I).de(A).build(){}let eX="us-east-1",e_=async(e,t,n)=>{let i="function"==typeof e?await e():e,r="function"==typeof t?await t():t;return n?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${i} (provider)`,`${r} (parent client)`,`${eX} (STS default)`),i??r??eX},eJ=(e,t)=>{let n,i;return async(r,s)=>{if(i=r,!n){let{logger:r=e?.parentClientConfig?.logger,region:s,requestHandler:o=e?.parentClientConfig?.requestHandler,credentialProviderLogger:a}=e,l=await e_(s,e?.parentClientConfig?.region,a);n=new t({credentialDefaultProvider:()=>async()=>i,region:l,requestHandler:o,logger:r})}let{Credentials:o}=await n.send(new eB(s));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,credentialScope:o.CredentialScope}}},eQ=(e,t)=>{let n;return async i=>{if(!n){let{logger:i=e?.parentClientConfig?.logger,region:r,requestHandler:s=e?.parentClientConfig?.requestHandler,credentialProviderLogger:o}=e,a=await e_(r,e?.parentClientConfig?.region,o);n=new t({region:a,requestHandler:s,logger:i})}let{Credentials:r}=await n.send(new eL(i));if(!r||!r.AccessKeyId||!r.SecretAccessKey)throw Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${i.RoleArn}`);return{accessKeyId:r.AccessKeyId,secretAccessKey:r.SecretAccessKey,sessionToken:r.SessionToken,expiration:r.Expiration,credentialScope:r.CredentialScope}}};var eY=n(98288),eZ=n(7902),e0=n(27667),e1=n(58903),e4=n(29516),e2=n(98832),e8=n(50480),e5=n(39200),e3=n(80578);let e6=async(e,t,n)=>({operation:(0,e3.J)(t).operation,region:await (0,e3.$)(e.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),e7=e=>{let t=[];switch(e.operation){case"AssumeRoleWithSAML":case"AssumeRoleWithWebIdentity":t.push({schemeId:"smithy.api#noAuth"});break;default:t.push({schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})})}return t},e9=e=>({...e,stsClientCtor:t1}),te=e=>{let t=e9(e),n=(0,E.resolveAwsSdkSigV4Config)(t);return{...n}},tt={i8:"3.577.0"};var tn=n(30744),ti=n(10148),tr=n(87860),ts=n(62551),to=n(83049),ta=n(46800),tl=n(81092),tc=n(97428),td=n(58712),tu=n(77939),tp=n(7554),th=n(90678);let tm="required",tf="type",tg="argv",ty="booleanEquals",tS="stringEquals",tx="sigv4",tP="us-east-1",tE="endpoint",tv="https://sts.{Region}.{PartitionResult#dnsSuffix}",tw="tree",tI="error",tb="getAttr",tA={[tm]:!1,[tf]:"String"},tC={[tm]:!0,default:!1,[tf]:"Boolean"},tR={ref:"Endpoint"},tk={fn:"isSet",[tg]:[{ref:"Region"}]},tD={ref:"Region"},tT={fn:"aws.partition",[tg]:[tD],assign:"PartitionResult"},t$={ref:"UseFIPS"},tO={ref:"UseDualStack"},tW={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:tx,signingName:"sts",signingRegion:tP}]},headers:{}},tj={},tz={conditions:[{fn:tS,[tg]:[tD,"aws-global"]}],[tE]:tW,[tf]:tE},tK={fn:ty,[tg]:[t$,!0]},tH={fn:ty,[tg]:[tO,!0]},tM={fn:tb,[tg]:[{ref:"PartitionResult"},"supportsFIPS"]},tN={ref:"PartitionResult"},tF={fn:ty,[tg]:[!0,{fn:tb,[tg]:[tN,"supportsDualStack"]}]},tV=[{fn:"isSet",[tg]:[tR]}],tU=[tK],tq=[tH],tG={version:"1.0",parameters:{Region:tA,UseDualStack:tC,UseFIPS:tC,Endpoint:tA,UseGlobalEndpoint:tC},rules:[{conditions:[{fn:ty,[tg]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[tg]:tV},tk,tT,{fn:ty,[tg]:[t$,!1]},{fn:ty,[tg]:[tO,!1]}],rules:[{conditions:[{fn:tS,[tg]:[tD,"ap-northeast-1"]}],endpoint:tW,[tf]:tE},{conditions:[{fn:tS,[tg]:[tD,"ap-south-1"]}],endpoint:tW,[tf]:tE},{conditions:[{fn:tS,[tg]:[tD,"ap-southeast-1"]}],endpoint:tW,[tf]:tE},{conditions:[{fn:tS,[tg]:[tD,"ap-southeast-2"]}],endpoint:tW,[tf]:tE},tz,{conditions:[{fn:tS,[tg]:[tD,"ca-central-1"]}],endpoint:tW,[tf]:tE},{conditions:[{fn:tS,[tg]:[tD,"eu-central-1"]}],endpoint:tW,[tf]:tE},{conditions:[{fn:tS,[tg]:[tD,"eu-north-1"]}],endpoint:tW,[tf]:tE},{conditions:[{fn:tS,[tg]:[tD,"eu-west-1"]}],endpoint:tW,[tf]:tE},{conditions:[{fn:tS,[tg]:[tD,"eu-west-2"]}],endpoint:tW,[tf]:tE},{conditions:[{fn:tS,[tg]:[tD,"eu-west-3"]}],endpoint:tW,[tf]:tE},{conditions:[{fn:tS,[tg]:[tD,"sa-east-1"]}],endpoint:tW,[tf]:tE},{conditions:[{fn:tS,[tg]:[tD,tP]}],endpoint:tW,[tf]:tE},{conditions:[{fn:tS,[tg]:[tD,"us-east-2"]}],endpoint:tW,[tf]:tE},{conditions:[{fn:tS,[tg]:[tD,"us-west-1"]}],endpoint:tW,[tf]:tE},{conditions:[{fn:tS,[tg]:[tD,"us-west-2"]}],endpoint:tW,[tf]:tE},{endpoint:{url:tv,properties:{authSchemes:[{name:tx,signingName:"sts",signingRegion:"{Region}"}]},headers:tj},[tf]:tE}],[tf]:tw},{conditions:tV,rules:[{conditions:tU,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[tf]:tI},{conditions:tq,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[tf]:tI},{endpoint:{url:tR,properties:tj,headers:tj},[tf]:tE}],[tf]:tw},{conditions:[tk],rules:[{conditions:[tT],rules:[{conditions:[tK,tH],rules:[{conditions:[{fn:ty,[tg]:[!0,tM]},tF],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:tj,headers:tj},[tf]:tE}],[tf]:tw},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[tf]:tI}],[tf]:tw},{conditions:tU,rules:[{conditions:[{fn:ty,[tg]:[tM,!0]}],rules:[{conditions:[{fn:tS,[tg]:[{fn:tb,[tg]:[tN,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:tj,headers:tj},[tf]:tE},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:tj,headers:tj},[tf]:tE}],[tf]:tw},{error:"FIPS is enabled but this partition does not support FIPS",[tf]:tI}],[tf]:tw},{conditions:tq,rules:[{conditions:[tF],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:tj,headers:tj},[tf]:tE}],[tf]:tw},{error:"DualStack is enabled but this partition does not support DualStack",[tf]:tI}],[tf]:tw},tz,{endpoint:{url:tv,properties:tj,headers:tj},[tf]:tE}],[tf]:tw}],[tf]:tw},{error:"Invalid Configuration: Missing Region",[tf]:tI}]},tB=(e,t={})=>(0,th.B1)(tG,{endpointParams:e,logger:t.logger});th.DY.aws=tp.Iu;let tL=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??td.G,base64Encoder:e?.base64Encoder??td.s,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??tB,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??e7,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new E.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new e2.NoAuthSigner}],logger:e?.logger??new s.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??tc.e,utf8Decoder:e?.utf8Decoder??tu.$x,utf8Encoder:e?.utf8Encoder??tu.GZ});var tX=n(8196);let t_=e=>{(0,s.emitWarningIfUnsupportedVersion)(process.version);let t=(0,tX.j)(e),n=()=>t().then(s.loadConfigsForDefaultMode),i=tL(e);return(0,E.emitWarningIfUnsupportedVersion)(process.version),{...i,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??ta.W,credentialDefaultProvider:e?.credentialDefaultProvider??tn.iw,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,ti.fV)({serviceId:i.serviceId,clientVersion:tt.i8}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4")||(async e=>await (0,tn.iw)(e?.__config||{})()),signer:new E.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new e2.NoAuthSigner}],maxAttempts:e?.maxAttempts??(0,ts.M)(e5.Hs),region:e?.region??(0,ts.M)(e4._c,e4.zb),requestHandler:to.NA.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,ts.M)({...e5.aK,default:async()=>(await n()).retryMode||tl.CA}),sha256:e?.sha256??tr.k.bind(null,"sha256"),streamCollector:e?.streamCollector??to.CF,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ts.M)(e4.G7),useFipsEndpoint:e?.useFipsEndpoint??(0,ts.M)(e4.NL)}};var tJ=n(31480);let tQ=e=>{let t=e.httpAuthSchemes,n=e.httpAuthSchemeProvider,i=e.credentials;return{setHttpAuthScheme(e){let n=t.findIndex(t=>t.schemeId===e.schemeId);-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){i=e},credentials:()=>i}},tY=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),tZ=e=>e,t0=(e,t)=>{let n={...tZ((0,tJ.GW)(e)),...tZ((0,s.getDefaultExtensionConfiguration)(e)),...tZ((0,v.getHttpHandlerExtensionConfiguration)(e)),...tZ(tQ(e))};return t.forEach(e=>e.configure(n)),{...e,...(0,tJ.A1)(n),...(0,s.resolveDefaultRuntimeConfig)(n),...(0,v.resolveHttpHandlerRuntimeConfig)(n),...tY(n)}};class t1 extends s.Client{constructor(...[e]){let t=t_(e||{}),n=o(t),r=(0,e4.Xb)(n),s=(0,i.uW)(r),a=(0,e5.BC)(s),l=(0,eY.S8)(a),c=(0,e1.er)(l),d=te(c),u=t0(d,e?.extensions||[]);super(u),this.config=u,this.middlewareStack.use((0,e5.NQ)(this.config)),this.middlewareStack.use((0,e8.VG)(this.config)),this.middlewareStack.use((0,eY.G2)(this.config)),this.middlewareStack.use((0,eZ.cV)(this.config)),this.middlewareStack.use((0,e0.eV)(this.config)),this.middlewareStack.use((0,e1.XJ)(this.config)),this.middlewareStack.use((0,e2.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,e2.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return e6}getIdentityProviderConfigProvider(){return async e=>new e2.DefaultIdentityProviderConfig({"aws.auth#sigv4":e.credentials})}}let t4=(e,t)=>t?class extends e{constructor(e){for(let n of(super(e),t))this.middlewareStack.use(n)}}:e,t2=(e={},t)=>eJ(e,t4(t1,t)),t8=(e={},t)=>eQ(e,t4(t1,t))}};