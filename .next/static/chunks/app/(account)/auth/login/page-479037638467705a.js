(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9788],{2974:function(e,t,r){Promise.resolve().then(r.bind(r,2627)),Promise.resolve().then(r.bind(r,5422))},2627:function(e,t,r){"use strict";r.r(t);var n=r(7437),s=r(8227),a=r(2537),o=r(5691),l=r(9484),i=r(9733),u=r(7415),c=r(2265),d=r(4033),p=r(6898),h=r(1396),f=r.n(h);t.default=()=>{let{setLogin:e,setSession:t}=(0,p.a)(),[r,h]=(0,c.useState)(!1),g=(0,d.useRouter)(),m=(0,a.TA)({initialValues:{email_or_phone_no:"",password:""},validationSchema:o.Ry({email_or_phone_no:o.Z_().required("Email or phone is required"),password:o.Z_().required("Password is required")}),onSubmit:async r=>{try{h(!0);let n={...r,user_role:"1",session_id:new Date().getTime().toString()},s=await l.x4(n);if(s&&200===s.status){u.Am.success("Login successful");let r=s.user_id;e(r),t(n.session_id),g.replace("/")}else u.Am.success("Login failed");h(!1)}catch(e){var n;console.log(e),h(!1),(null===(n=e.response)||void 0===n?void 0:n.status)===409?u.Am.error("Invalid credentials"):u.Am.error("Something went wrong")}}});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("form",{autoComplete:"off",className:"flex flex-col gap-5 w-full max-w-md px-5",onSubmit:m.handleSubmit,children:[(0,n.jsx)(i.Z,{onChange:m.handleChange,value:m.values.email_or_phone_no,type:"text",name:"email_or_phone_no",placeholder:"Email or Phone Number",onBlur:m.handleBlur,error:m.errors.email_or_phone_no&&m.touched.email_or_phone_no?m.errors.email_or_phone_no:"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full  p-4  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"}),(0,n.jsx)(i.Z,{onChange:m.handleChange,value:m.values.password,type:"password",name:"password",placeholder:"Password",onBlur:m.handleBlur,error:m.errors.password&&m.touched.password?m.errors.password:"",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full  p-4  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"}),(0,n.jsx)("div",{className:"flex justify-between items-center gap-5",children:(0,n.jsxs)(f(),{href:"/auth/signup",className:"text-blue-950 ",children:["Don't have an account?"," ",(0,n.jsx)("span",{className:"font-bold",children:"Create Account"})]})}),(0,n.jsx)(s.A,{isLoading:r,type:"submit",className:"p-6 w-full text-white bg-violet-600 rounded-[96.709px]",children:"Login"})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-5 w-full max-w-md ",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center",children:[(0,n.jsx)("hr",{className:"w-full border-1 border-gray-400"}),(0,n.jsx)("span",{className:"text-sm font-medium text-black p-2",children:"OR"}),(0,n.jsx)("hr",{className:"w-full border-1 border-gray-400"})]}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(s.A,{className:"w-10 h-10 ",children:"Google"})})]})]})}},5422:function(e,t,r){"use strict";r.r(t);var n=r(7437),s=r(4027);r(2265),t.default=()=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"absolute w-full flex justify-end right-3 top-3",children:(0,n.jsx)("button",{onClick:()=>{window.location.href="/"},children:(0,n.jsx)(s.Z,{width:25})})})})},9733:function(e,t,r){"use strict";var n=r(7437);r(2265),t.Z=e=>{let{value:t="",className:r="",name:s="",placeholder:a="",type:o="text",onChange:l,readOnly:i=!1,error:u="",min:c="",max:d="",disabled:p=!1,autoComplete:h=!1,onBlur:f,isLabel:g=!1}=e;return(0,n.jsxs)("div",{children:[g&&(0,n.jsx)("label",{htmlFor:s,className:"block text-sm font-medium text-gray-700",children:a}),(0,n.jsx)("input",{id:s,type:o,value:t,name:s,"aria-label":a,className:r,placeholder:a,onChange:l,readOnly:i,disabled:p,min:c,max:d,autoComplete:h?"on":"off","aria-autocomplete":"none",autoFocus:!1,autoCorrect:"off",onBlur:f}),u&&(0,n.jsx)("small",{className:"text-red-500",children:u})]})}},6898:function(e,t,r){"use strict";r.d(t,{a:function(){return i},d:function(){return l}});var n=r(7437),s=r(2265),a=r(605);let o=(0,s.createContext)({user:null,setLogin:()=>{},setLogout:()=>{},setSession:()=>{},userSession:null,isLoggedIn:!1,userDetails:null,userDetailsSet:()=>{}}),l=e=>{let{children:t}=e,[r,l]=(0,s.useState)(null),[i,u]=(0,s.useState)(null),[c,d]=(0,s.useState)(!1),[p,h]=(0,s.useState)(null),f=e=>{u(e),(0,a.qQ)("session",JSON.stringify(e))};return(0,s.useEffect)(()=>{let e=(0,a.$o)("user"),t=(0,a.$o)("session"),r=(0,a.$o)("isLoggedIn");if(r&&d(!0),e&&e.length>0){let t=JSON.parse(e);l(t)}if(t&&t.length>0){let e=JSON.parse(t);f(e)}},[c]),(0,n.jsx)(o.Provider,{value:{user:r,setLogin:e=>{l(e),(0,a.qQ)("user",JSON.stringify(e)),(0,a.qQ)("isLoggedIn",!0),d(!0)},setLogout:()=>{(0,a.dZ)("user"),l(null),(0,a.dZ)("session"),u(null),(0,a.dZ)("isLoggedIn"),d(!1),h(null)},setSession:f,userSession:i,isLoggedIn:c,userDetails:p,userDetailsSet:e=>{h(e)}},children:t})},i=()=>(0,s.useContext)(o)},9484:function(e,t,r){"use strict";r.d(t,{lF:function(){return a},Xk:function(){return i},X5:function(){return h},ge:function(){return y},dd:function(){return m},xY:function(){return g},Qn:function(){return u},CC:function(){return d},LN:function(){return f},PR:function(){return l},x4:function(){return o},BN:function(){return p},hL:function(){return c}});var n=r(2173);let s="https://www.nextcare.life:8000/api/v1/",a=async e=>{let{data:t}=await n.Z.post(s+"users/create-user",e,{headers:{"Content-Type":"application/json"}});return t},o=async e=>{let{data:t}=await n.Z.post(s+"users/user-login",e,{headers:{"Content-Type":"application/json"}});return t},l=async e=>{let{data:t}=await n.Z.get(s+"users/get-user?user_id=".concat(e),{headers:{"Content-Type":"application/json"}});return t},i=async e=>{try{let{data:t}=await n.Z.put(s+"users/update-user",e,{headers:{"Content-Type":"application/json"}});return t}catch(e){console.log(e)}},u=async()=>{try{let{data:e}=await n.Z.get(s+"level_value_mapping/view_key_criteria",{headers:{"Content-Type":"application/json"}});return e}catch(e){if("ECONNABORTED"===e.code)throw Error("timeout");throw e}},c=async e=>{try{let{data:t}=await n.Z.get(s+"records/show_records?key_combination="+e,{headers:{"Content-Type":"application/json"}});return t}catch(e){if(console.log(e),"ECONNABORTED"===e.code)throw console.log("timeout"),Error("timeout")}},d=async e=>{try{let{data:t}=await n.Z.post(s+"master_questionnaire/show_question_details",e,{headers:{"Content-Type":"application/json"}});return t}catch(e){console.log(e)}},p=async e=>{try{let{data:t}=await n.Z.post(s+"users/save-user-questionnaire",e,{headers:{"Content-Type":"application/json"}});return t}catch(e){console.log(e)}},h=async e=>{try{let{data:t}=await n.Z.post(s+"case/create-case",e,{headers:{"Content-Type":"application/json"}});return t}catch(e){console.log(e)}},f=async e=>{let{data:t}=await n.Z.get(s+"users/patient_dashboard?user_id=".concat(e),{headers:{"Content-Type":"application/json"}});return t},g=async e=>{let{data:t}=await n.Z.get(s+"case/prescription?case_id=".concat(e),{headers:{"Content-Type":"application/json"}});return t},m=async e=>{let{data:t}=await n.Z.get(s+"case/case-report?case_id=".concat(e),{headers:{"Content-Type":"application/json"}});return t},y=async e=>{try{let{data:t}=await n.Z.post(s+"users/send_otp",e,{headers:{"Content-Type":"application/json"}});return t}catch(e){console.log(e)}}},605:function(e,t,r){"use strict";r.d(t,{$o:function(){return s},dZ:function(){return a},qQ:function(){return n}});let n=(e,t)=>{try{{let r=JSON.stringify(t);localStorage.setItem(e,r)}}catch(e){console.log(e)}},s=e=>{try{{let t=localStorage.getItem(e);if(!t||"undefined"===t)return null;let r=JSON.parse(t);return r}}catch(e){console.log(e)}},a=e=>{try{localStorage.removeItem(e)}catch(e){console.log(e)}}},1396:function(e,t,r){e.exports=r(8326)},4027:function(e,t,r){"use strict";var n=r(2265);let s=n.forwardRef(function({title:e,titleId:t,...r},s){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))});t.Z=s}},function(e){e.O(0,[1104,8227,2173,8326,7138,2971,2472,1744],function(){return e(e.s=2974)}),_N_E=e.O()}]);