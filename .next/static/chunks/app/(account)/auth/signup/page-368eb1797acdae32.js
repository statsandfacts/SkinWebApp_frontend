(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2927],{3911:function(e,r,a){Promise.resolve().then(a.bind(a,5613)),Promise.resolve().then(a.bind(a,5422))},5613:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return j}});var t=a(7437),o=a(2265),n=a(2537),s=a(5691),l=a(9484),i=a(9733),d=a(8227),u=a(7415),c=a(4033),g=a(9068),h=a(9174),p=a(1609),b=a(9605),m=a(1718),y=a(4012),f=a(2913);let x=o.forwardRef(function({title:e,titleId:r,...a},t){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),e?o.createElement("title",{id:r},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}),w=[{value:"male",label:"Male"},{value:"female",label:"Female"}],k=e=>{let{openModal:r,onClose:a,email:c,mobile:g,successVerifyOtp:h}=e,[w,k]=(0,o.useState)(!1),[j,_]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=async()=>{k(!0),_(!0);let e=await l.ge({email_id:c,phone_number:g});e&&200===e.status?u.Am.success("OTP Verified Successfully"):u.Am.error("Some error occurred"),_(!1)};r&&e()},[r,c,g]);let v=(0,n.TA)({initialValues:{otp:""},validationSchema:s.Ry({otp:s.Z_().required("Enter Valid OTP").length(6).matches(/^[0-9]{6}$/,"Must be exactly 6 digits")}),onSubmit:async e=>{try{console.log(e),6===e.otp.length&&h()}catch(e){console.log(e)}}});return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(p.R,{isOpen:r,hideCloseButton:!0,children:(0,t.jsx)(b.A,{children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(m.k,{className:"flex flex-col gap-1",children:[(0,t.jsx)("div",{className:"flex w-full",children:(0,t.jsx)("div",{children:"Verify Your OTP"})}),(0,t.jsx)("button",{className:"absolute right-4 top-4 w-7 h-7 rounded-full flex justify-center items-center hover:bg-gray-100",onClick:()=>{k(!1),_(!1),a()},children:(0,t.jsx)(x,{className:"w-5 h-5 text-gray-500"})})]}),(0,t.jsx)(y.I,{children:(0,t.jsx)("div",{children:(0,t.jsx)(i.Z,{onChange:v.handleChange,isLabel:!0,value:v.values.otp,type:"otp",name:"otp",placeholder:"Enter your Otp",error:v.errors.otp?v.errors.otp:"",onBlur:v.handleBlur,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full  p-4  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})})}),(0,t.jsx)(f.R,{children:(0,t.jsx)(d.A,{isLoading:j,color:"primary",onClick:e=>{v.handleSubmit()},children:"Verify"})})]})})})})};var j=()=>{let e=(0,c.useRouter)(),[r,a]=(0,o.useState)(!1),[p,b]=(0,o.useState)(1),m=(0,n.TA)({initialValues:{first_name:"",last_name:"",email_id:"",phone_number:"",gender:"",dob:"",password:"",confirmPassword:""},validationSchema:s.Ry().shape({...1===p&&{first_name:s.Z_().required("First Name Required"),last_name:s.Z_().required("Last Name Required")},...2===p&&{email_id:s.Z_().email().required("Email Required"),phone_number:s.Z_().required("Phone Number Required").matches(/^\d{6,15}$/,"Invalid phone number format")},...3===p&&{gender:s.Z_().required("Gender Required"),dob:s.hT().required("Date of Birth Required")},...4===p&&{password:s.Z_().required("Password Required"),confirmPassword:s.Z_().required("Confirm Password Required").oneOf([s.iH("password"),""],"Passwords must match")}}),onSubmit:async r=>{try{a(!0);let t={...r,user_type:"patient",session_id:"1234",government_id:"",government_idtype:"",address:"",qualification:"",specialization:"",zipcode:"",govt_id_image:"",city:"",state:""},o=await l.lF(t);o&&200===o.status?(u.Am.success("User created successfully"),e.back()):u.Am.error("Something went wrong"),a(!1)}catch(e){a(!1),e&&e.response&&e.response.data?u.Am.error(e.response.data.detail):u.Am.error("Something went wrong")}}}),y=()=>{b(p-1)},[f,x]=(0,o.useState)(!1),[j,_]=(0,o.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("form",{autoComplete:"off",className:"flex flex-col gap-5 w-full max-w-md px-5 ",onSubmit:m.handleSubmit,children:[(()=>{switch(p){case 1:return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Z,{onChange:m.handleChange,isLabel:!0,value:m.values.first_name,type:"text",name:"first_name",placeholder:"First Name",error:m.errors.first_name?m.errors.first_name:"",onBlur:m.handleBlur,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full  p-4  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"}),(0,t.jsx)(i.Z,{onChange:m.handleChange,isLabel:!0,value:m.values.last_name,type:"text",name:"last_name",placeholder:"Last Name",error:m.errors.last_name?m.errors.last_name:"",onBlur:m.handleBlur,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full  p-4  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})]});case 2:return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{children:(0,t.jsx)(i.Z,{onChange:m.handleChange,isLabel:!0,value:m.values.email_id,type:"text",name:"email_id",placeholder:"Email",error:m.errors.email_id?m.errors.email_id:"",onBlur:m.handleBlur,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full  p-4  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})}),(0,t.jsx)("div",{children:(0,t.jsx)(i.Z,{onChange:m.handleChange,isLabel:!0,value:m.values.phone_number,type:"text",name:"phone_number",placeholder:"Phone Number",error:m.errors.phone_number?m.errors.phone_number:"",onBlur:m.handleBlur,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full  p-4  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})})]});case 3:return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Z,{onChange:m.handleChange,isLabel:!0,value:m.values.dob,type:"date",name:"dob",placeholder:"Date of Birth",error:m.errors.dob?m.errors.dob:"",onBlur:m.handleBlur,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full  p-4  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"}),(0,t.jsx)(g.g,{placeholder:"Select an gender",labelPlacement:"outside",className:"w-full ",size:"lg",radius:"sm",onChange:m.handleChange,name:"gender",children:w.map(e=>(0,t.jsx)(h.R,{value:e.value,children:e.label},e.value))})]});case 4:return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Z,{onChange:m.handleChange,isLabel:!0,value:m.values.password,type:"password",name:"password",placeholder:"Password",error:m.errors.password?m.errors.password:"",onBlur:m.handleBlur,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full  p-4  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"}),(0,t.jsx)(i.Z,{onChange:m.handleChange,isLabel:!0,value:m.values.confirmPassword,type:"password",name:"confirmPassword",placeholder:"Confirm Password",error:m.errors.confirmPassword?m.errors.confirmPassword:"",onBlur:m.handleBlur,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full  p-4  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})]})}})(),p<4&&(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(d.A,{type:"button",disabled:1===p,onClick:y,color:"primary",className:"grow justify-center px-5 py-2.5 text-white bg-black   rounded-[96.709px] disabled:bg-gray-600",children:"Back"}),2!=p||f?(0,t.jsx)(d.A,{type:"button",onClick:()=>{let e=async()=>{let e=await m.validateForm();e&&Object.keys(e).length>0?m.setErrors(e):b(p+1)};e()},color:"primary",className:"grow justify-center px-5 py-2.5 text-white bg-violet-600   rounded-[96.709px] ",children:"Next"}):(0,t.jsx)(d.A,{type:"button",onClick:()=>{m.validateForm().then(e=>{e&&Object.keys(e).length>0||_(!0)})},color:"primary",className:"grow justify-center px-5 py-2.5 text-white bg-violet-600   rounded-[96.709px] ",children:"Verify"})]}),4===p&&(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(d.A,{type:"button",onClick:y,color:"primary",className:"grow justify-center px-5 py-2.5 text-white bg-black   rounded-[96.709px] disabled:bg-gray-600",children:"Back"}),(0,t.jsx)(d.A,{isLoading:r,type:"submit",color:"primary",className:"grow justify-center px-5 py-2.5 text-white bg-violet-600   rounded-[96.709px] ",children:"Submit"})]})]}),(0,t.jsx)(k,{openModal:j,onClose:()=>{_(!1)},email:m.values.email_id,mobile:m.values.phone_number,successVerifyOtp:()=>{x(!0),_(!1)}})]})}},5422:function(e,r,a){"use strict";a.r(r);var t=a(7437),o=a(4027);a(2265),r.default=()=>(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"absolute w-full flex justify-end right-3 top-3",children:(0,t.jsx)("button",{onClick:()=>{window.location.href="/"},children:(0,t.jsx)(o.Z,{width:25})})})})},9733:function(e,r,a){"use strict";var t=a(7437);a(2265),r.Z=e=>{let{value:r="",className:a="",name:o="",placeholder:n="",type:s="text",onChange:l,readOnly:i=!1,error:d="",min:u="",max:c="",disabled:g=!1,autoComplete:h=!1,onBlur:p,isLabel:b=!1}=e;return(0,t.jsxs)("div",{children:[b&&(0,t.jsx)("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700",children:n}),(0,t.jsx)("input",{id:o,type:s,value:r,name:o,"aria-label":n,className:a,placeholder:n,onChange:l,readOnly:i,disabled:g,min:u,max:c,autoComplete:h?"on":"off","aria-autocomplete":"none",autoFocus:!1,autoCorrect:"off",onBlur:p}),d&&(0,t.jsx)("small",{className:"text-red-500",children:d})]})}},9484:function(e,r,a){"use strict";a.d(r,{lF:function(){return n},Xk:function(){return i},X5:function(){return h},ge:function(){return y},dd:function(){return m},xY:function(){return b},Qn:function(){return d},CC:function(){return c},LN:function(){return p},PR:function(){return l},x4:function(){return s},BN:function(){return g},hL:function(){return u}});var t=a(2173);let o="https://www.nextcare.life:8000/api/v1/",n=async e=>{let{data:r}=await t.Z.post(o+"users/create-user",e,{headers:{"Content-Type":"application/json"}});return r},s=async e=>{let{data:r}=await t.Z.post(o+"users/user-login",e,{headers:{"Content-Type":"application/json"}});return r},l=async e=>{let{data:r}=await t.Z.get(o+"users/get-user?user_id=".concat(e),{headers:{"Content-Type":"application/json"}});return r},i=async e=>{try{let{data:r}=await t.Z.put(o+"users/update-user",e,{headers:{"Content-Type":"application/json"}});return r}catch(e){console.log(e)}},d=async()=>{try{let{data:e}=await t.Z.get(o+"level_value_mapping/view_key_criteria",{headers:{"Content-Type":"application/json"}});return e}catch(e){if("ECONNABORTED"===e.code)throw Error("timeout");throw e}},u=async e=>{try{let{data:r}=await t.Z.get(o+"records/show_records?key_combination="+e,{headers:{"Content-Type":"application/json"}});return r}catch(e){if(console.log(e),"ECONNABORTED"===e.code)throw console.log("timeout"),Error("timeout")}},c=async e=>{try{let{data:r}=await t.Z.post(o+"master_questionnaire/show_question_details",e,{headers:{"Content-Type":"application/json"}});return r}catch(e){console.log(e)}},g=async e=>{try{let{data:r}=await t.Z.post(o+"users/save-user-questionnaire",e,{headers:{"Content-Type":"application/json"}});return r}catch(e){console.log(e)}},h=async e=>{try{let{data:r}=await t.Z.post(o+"case/create-case",e,{headers:{"Content-Type":"application/json"}});return r}catch(e){console.log(e)}},p=async e=>{let{data:r}=await t.Z.get(o+"users/patient_dashboard?user_id=".concat(e),{headers:{"Content-Type":"application/json"}});return r},b=async e=>{let{data:r}=await t.Z.get(o+"case/prescription?case_id=".concat(e),{headers:{"Content-Type":"application/json"}});return r},m=async e=>{let{data:r}=await t.Z.get(o+"case/case-report?case_id=".concat(e),{headers:{"Content-Type":"application/json"}});return r},y=async e=>{try{let{data:r}=await t.Z.post(o+"users/send_otp",e,{headers:{"Content-Type":"application/json"}});return r}catch(e){console.log(e)}}}},function(e){e.O(0,[1104,8227,2173,7138,7595,3511,7090,3035,2971,2472,1744],function(){return e(e.s=3911)}),_N_E=e.O()}]);